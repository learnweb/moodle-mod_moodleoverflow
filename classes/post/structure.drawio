<mxfile host="65bd71144e">
    <diagram id="Ocp_CnXS0HLAeEA8QY45" name="Page-1">
        <mxGraphModel dx="3355" dy="2243" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="Post" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="-570" y="290" width="540" height="400" as="geometry">
                        <mxRectangle x="-140" y="-60" width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="3" value="- id: int&#10;- discussion: Discussion-&gt;id&#10;- parent: Post-&gt;id&#10;- userid: int&#10;- created: int&#10;- modified: int&#10;- message: String&#10;- messageformat: int&#10;- attachment: char&#10;- mailed: int&#10;- reviewed: int &#10;- timereviewed: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="2" vertex="1">
                    <mxGeometry y="26" width="540" height="184" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="2" vertex="1">
                    <mxGeometry y="210" width="540" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="+ construct(discussion:int, parent:post, userid:int, attachment:array) // same as add_new_post()&#10;+ delete_post($post:Post, $deletechildren:boolean, $cm:object, $moodleoverflow:object):static void&#10;+ update_post($message:String):boolean&#10;+ get_post_full(): Post&#10;+ add_attachment(attachment:char): void&#10;+ get_attachment(): char&#10;+ print_post(...): $renderer-&gt;render:post($mustachdata)&#10;+ get_discussion(): $Discussionobject&#10;+ get_moodleoverflow(): $Moodleoverflowobject&#10;+ get_parentpost(): $Postobject&#10;+ weitere Funktionen" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="2" vertex="1">
                    <mxGeometry y="218" width="540" height="182" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="Post_Form" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="620" y="20" width="470" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="7" value=" &#10;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="6" vertex="1">
                    <mxGeometry y="26" width="470" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="6" vertex="1">
                    <mxGeometry y="50" width="470" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="+ definition():void      // builds form depending on interaction (start, edit, reply, delete)&#10;+ validation($data, $files):array    //of errors&#10;+ attachment_options($moodleoverflow): static array" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="6" vertex="1">
                    <mxGeometry y="58" width="470" height="62" as="geometry"/>
                </mxCell>
                <mxCell id="10" style="edgeStyle=none;html=1;entryX=0;entryY=0.166;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="6" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="420" y="40" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="11" value="Post.php&lt;br&gt;" style="html=1;dropTarget=0;" parent="1" vertex="1">
                    <mxGeometry x="240" y="20" width="180" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="" style="endArrow=classic;html=1;exitX=0.001;exitY=0.03;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.665;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9" target="11" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="580" y="150" as="sourcePoint"/>
                        <mxPoint x="630" y="100" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="14" value="" style="endArrow=classic;html=1;exitX=0.223;exitY=0.998;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.001;entryY=0.188;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="11" target="19" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="330" y="330" as="sourcePoint"/>
                        <mxPoint x="310" y="230" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="280" y="306"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="15" value="3. Baue die Form" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="430" y="10" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="4. form-&amp;gt;get_data() mit relevanten infos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="445" y="80" width="150" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="5. Form ist durch, bau/lösch/editiere bitte" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="270" y="310" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="Post_control" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="565" y="270" width="540" height="200" as="geometry">
                        <mxRectangle x="-140" y="-60" width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="19" value="  " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="18" vertex="1">
                    <mxGeometry y="26" width="540" height="54" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="18" vertex="1">
                    <mxGeometry y="80" width="540" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="+ construct($urlparameter)&#10;+ detect_interaction($urlparameter)  //ruft die build_prepost functions&#10;+ Getter von prepost, interaction, information&#10;- build_prepost_create($moodleoverflow)&#10;- build_prepost_reply($replypostid)&#10;- build_prepost_edit($editpostid)&#10;- build_prepost_delete($deletpostid)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="18" vertex="1">
                    <mxGeometry y="88" width="540" height="112" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="endArrow=classic;html=1;entryX=0.299;entryY=-0.01;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="18" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="400" y="110" as="sourcePoint"/>
                        <mxPoint x="570" y="200" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="400" y="200"/>
                            <mxPoint x="726" y="200"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="1. Welche Interaktion? Alles okay bei den Daten?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="430" y="170" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=classic;html=1;entryX=0.667;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.139;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="18" target="11" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="600" y="270" as="sourcePoint"/>
                        <mxPoint x="651.46" y="278.0000000000001" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="640" y="210"/>
                            <mxPoint x="360" y="210"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="2. Interaktion und wichtige Infos im prepost" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="420" y="220" width="145" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="Discussion" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="50" y="780" width="510" height="460" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="- id:int&#10;- course:int (id)&#10;- moodleoverflow:int (id)&#10;- name: char&#10;- firstpost:int (the id of the firstpost)&#10;- userid:int&#10;- timemodified:int&#10;- timestart:int&#10;- usermodified:int&#10;// Not db Variables&#10;- posts:array;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="28" vertex="1">
                    <mxGeometry y="26" width="510" height="194" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="28" vertex="1">
                    <mxGeometry y="220" width="510" height="8" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="+ moodleoverflow_delete_discussion($discussion, $course, $cm, $moodleoverflow)&#10;+ moodleoverflow_discussion_update_last_post($discussionid)&#10;+ moodleoverflow_get_discussion_ratings();&#10;+ moodleoverflow_get_discussion_posts&#10;+ add_new_post_to_discussion();&#10;+ delete_post_from_discussion($postid);" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="28" vertex="1">
                    <mxGeometry y="228" width="510" height="232" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="discussion.php" style="html=1;" parent="1" vertex="1">
                    <mxGeometry x="-150" y="100" width="180" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="" style="endArrow=open;endFill=1;endSize=12;html=1;exitX=-0.001;exitY=0.97;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.458;entryY=0.998;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="29" target="5" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="-480" y="70" as="sourcePoint"/>
                        <mxPoint x="-600" y="220" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="-320" y="994"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="34" value="View.php" style="html=1;" parent="1" vertex="1">
                    <mxGeometry x="-150" y="-40" width="190" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="34" target="11" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="220" y="20" as="sourcePoint"/>
                        <mxPoint x="270" y="-30" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="36" value="&amp;lt;&amp;lt;new Discussion&amp;gt;&amp;gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="50" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=-0.007;entryY=0.886;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="32" target="11" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="260" y="200" as="sourcePoint"/>
                        <mxPoint x="310" y="150" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="38" value="&amp;lt;&amp;lt;Answer/Comment&amp;gt;&amp;gt;&lt;br&gt;&amp;lt;&amp;lt;Edit&amp;gt;&amp;gt;&lt;br&gt;&amp;lt;&amp;lt;Delete&amp;gt;&amp;gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="30" y="110" width="130" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;Diskussion: Die Verwaltung einer Sammlung von Posts zu einem Thema, wobei es einen Elternpost gibt.&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="100" y="740" width="380" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="Ein einzelner Post, der weiß, wer sein Elternpost ist (oder selbst einer ist) und ein Nachricht und ggf. Attachments hat." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" parent="1" vertex="1">
                    <mxGeometry x="-560" y="250" width="480" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.27;exitY=1.012;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.009;entryY=0.942;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="21" target="29" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="610" y="510" as="sourcePoint"/>
                        <mxPoint x="710" y="1040" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="710" y="989"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="42" value="6. Durchführung der Aktion&lt;br&gt;- Interaktion &amp;lt;&amp;lt;new Discussion&amp;gt;&amp;gt; : Neues Objekt der Diskussionsklasse, die dann einen neuen Elternpost hinzufügt (Das diskussionsobject erstellt dann einen neues post-objekt&lt;br&gt;- Interaktion &amp;lt;&amp;lt;Answer/Comment&amp;gt;&amp;gt;: greife auf gestehendes Diskussionsobjekt zu, welches dann ein neues Postobjekt seiner Sammlung hinzufügt&lt;br&gt;- Interaktion &amp;lt;&amp;lt;Delete&amp;gt;&amp;gt;: greife auf bestehendes Diskussionsobjekt zu, welches einen Post aus seiner Sammlung an post löscht&lt;br&gt;- Interaktion &amp;lt;&amp;lt;edit&amp;gt;&amp;gt;: Editiere den gewollten post&amp;nbsp;&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" parent="1" vertex="1">
                    <mxGeometry x="720" y="500" width="530" height="330" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="Array an Posts, erstes Element ist der Elternpost" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" parent="1" vertex="1">
                    <mxGeometry x="-280" y="960" width="250" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="44" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;mdl_moodleoverflow&lt;/font&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
                    <mxGeometry x="-770" y="1020" width="330" height="260" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="" style="endArrow=classic;html=1;fontSize=17;exitX=-0.01;exitY=0.606;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="31" target="44" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-270" y="980" as="sourcePoint"/>
                        <mxPoint x="-220" y="930" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="46" value="" style="endArrow=classic;html=1;fontSize=17;entryX=0.741;entryY=0.014;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.085;exitY=1.018;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="5" target="44" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-520" y="700" as="sourcePoint"/>
                        <mxPoint x="-220" y="930" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>