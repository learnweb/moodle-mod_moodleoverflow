define("mod_moodleoverflow/warnmodechange",["exports","core/str","core/notification","core/prefetch"],(function(_exports,_str,_notification,_prefetch){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(previousSetting){_prefetch.default.prefetchStrings("mod_moodleoverflow",["switchtooptional","switchtoauto"]),_prefetch.default.prefetchStrings("moodle",["confirm","cancel"]);var form=document.querySelector("form.mform"),select=document.getElementById("id_forcesubscribe");form.onsubmit=(fn=regeneratorRuntime.mark((function _callee(e){var value;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if((value=select.selectedOptions[0].value)!=previousSetting&&1!=value&&3!=value){_context.next=3;break}return _context.abrupt("return");case 3:return e.preventDefault(),_context.t0=_notification.default,_context.next=7,(0,_str.get_string)("confirm");case 7:return _context.t1=_context.sent,_context.next=10,(0,_str.get_string)(0==value?"switchtooptional":"switchtoauto","mod_moodleoverflow");case 10:return _context.t2=_context.sent,_context.next=13,(0,_str.get_string)("confirm");case 13:return _context.t3=_context.sent,_context.next=16,(0,_str.get_string)("cancel");case 16:return _context.t4=_context.sent,_context.t5=function(){form.onsubmit=void 0,form.requestSubmit(e.submitter)},_context.t6=void 0,_context.next=21,_context.t0.confirm.call(_context.t0,_context.t1,_context.t2,_context.t3,_context.t4,_context.t5,_context.t6);case 21:case"end":return _context.stop()}}),_callee)})),_ref=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},function(_x){return _ref.apply(this,arguments)});var fn,_ref},_notification=_interopRequireDefault(_notification),_prefetch=_interopRequireDefault(_prefetch)}));

//# sourceMappingURL=warnmodechange.min.js.map